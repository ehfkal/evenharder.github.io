---
title: "ICPC 2019 World Finals 팀연습"
date: 2020-01-26 23:00
categories:
  - algo
tags:
  - PS
excerpt_separator: <!--more-->
toc: true

---

2020년의 첫 팀연습을 지난 21일에 19 WF로 돌아보았습니다.

<!--more-->

블로그에 아직 제대로 글을 쓰지는 않았지만 제가 작년에 속해 있던 Powered by Zigui 팀이 [ICPC 2020 World Finals에 진출하게 되었습니다](http://blog.sina.cn/dpool/blog/s/blog_b946da100102zvya.html). 이후 지구이님과 다른 분들께 조언을 많이 듣고, 앞으로 자주 하지 못할 3인 팀연습을 19 WF로 진행하였습니다.



![20200125-team-result](/assets/images/team-comp/20200121-wf19.PNG)

결과는 생각보다는 저조했습니다. 서로 오랜만에 팀연습을 해서 그런지 각자의 기량이 잘 나오지 않았던 느낌이 들었습니다. 겸손하게 개인 연습을 계속 진행해야겠습니다.

vjudge는 이번이 두 번째 사용인데, 정말 좋은 플랫폼인 것 같습니다.

# 팀연습 경과


## 초반 소강기

이전에 팀연습을 할 때 월파셋은 건드리지 않았는데, 바로 풀리는 문제가 정말 안 보였습니다. 일반적으로 월파 퍼솔은 7분에서 15분 사이에 나오는 쪽인데 이번에는 14분인 대회였습니다. 그런 점을 감안하더라도 풀이가 잘 보이지 않았습니다. 각자 문제를 읽어보다가 제가 보고 있던 E가 퍼솔이 나오자 더 쉽게 생각해보려고 노력했는데 잘 되진 않았습니다. 다행히 SUDAL이 A를 맡아 코딩하겠다고 했는데 25분에 있던 첫 제출이 WA가 나온 이후 서로가 답답한 상황이 계속되었습니다.



## E. Dead-End Detector (1:02)

쉽게 쉽게 접근한 결과 컴포넌트가 트리일 때와 아닐 때로 분리해서 풀었는데, 첫 번째 문제 치고는 구현량이 조금 있었습니다. 제출하고 혹여나 실수했을까봐 조마조마했는데 다행히 AC가 나왔습니다. 이 문제도 틀렸으면 팀 퍼포먼스가 정말 안 나왔을 것 같습니다.

팀연습을 하면서 퍼솔이 1시간 이후에 나온 경우는 거의 없었는데...대회 끝나고 문제 요구사항을 설명하려니 다른 팀원은 이해가 잘 안 된다고 말했습니다. 제가 맡아야 하나 봅니다.



## A. Azulejos (1:27, +1)

전날 친구들이랑 아줄이라는 보드게임을 했었는데 이런 문제가 나와서 재밌는 우연의 일치라고 생각했습니다. 작년 월파 스코어보드 실시간으로 보면서 이 문제가 쉬운 편이라는 건 알고 있었지만 문제는 모르는 편이었습니다.

풀이를 들어보니 적당한 그리디와 적당한 자료구조의 사용으로 해결되는 것 같습니다.



## D. Circular DNA (1:41)

A를 다시 코딩하고 있었을 때 D에 대한 풀이가 구체화 완료되었고, 제가 금방 짜서 맞았습니다. 개인적으로는 이 셋에서 가장 쉬운 문제라고 생각됩니다. 각 index 별로 따로 생각한 다음 prefix sum을 조합하여 하면 되는, 종합적이지만 (월파 수준에서는) 간단한 문제였습니다.



## 중반부 소강기

이 때 스코어보드는 ADE가 많이 풀리고, H 13팀, G 5팀, B 2팀, J 1팀이었습니다. SoulTch는 H를 계속 잡고 있었는데 뭔가 될듯 말듯 안 되는 상황인 것 같았습니다. 다른 문제를 둘러보면서 이상한 문자열 문제인 G를 잡느냐, 아니면 기하 문제 B를 잡느냐였는데 제가 B를 잡자고 주장해 남은 SUDAL과 제가 B를 합심해서 접근했습니다.

H 제출이 먼저 3:29에 되었는데 RTE, 이후 연달아 3:33에 B 제출 WA, 다시 H 고쳐서 3:34에 제출한 결과 TLE였습니다. 실제 WF 환경에서는 그렇지 않겠지만 vjudge에서는 맞은 테스트 케이스 수가 나와서 H가 알고리즘은 맞는데 느린 부분이 있다는 점을 알 수 있었습니다.

## B. Beautiful Bridges (3:44, +1)

진작에 $O(N^2)$으로 접근해야 하며, 이를 위해서는 각 $i$번째에서 $j$번째로 직접 다리를 잇는 것이 가능한지 빠르게 판정해야 했습니다. 여기까지의 골자를 기반으로 SUDAL이랑 arch를 반반 나누어 접근했습니다. 저는 조금 복잡하게 접근했는데 SUDAL이 쉬운 케이스를 푼 다음, 이를 대칭시켜 어려운 케이스도 동일하게 해결하자는 아이디어를 냈습니다.

구현도 실수 오차 거의 없이 SUDAL이 잘 했고 아이디어도 맞는 것 같아 제출했는데 앞서 말했듯 WA. 다행히 반례를 금방 찾았습니다. 여기서 제가 코드를 약간 잘못 이해해서 5분 정도 이상하게 대화가 꼬였는데 다행히 서로 보완할 점을 하나씩 찾고 제출하니 맞았습니다. 정말 다행이었습니다...



## H. Hobson's Trains (4:54, +2)

결국 SoulTch가 H에서 병목이었던 코드를 효율적으로 만들어서 AC를 받았습니다. H가 빨리 밀렸으면 6솔에서 7솔까지도 노려볼 수 있었을 것 같은데 아쉽습니다.

H와 병행해서 제가 G를 도전해보았는데 WA를 받았습니다.



# 팀연습 이후 문제 논의

+ C. Checks Fast Porto
  아무도 보지 않은 문제입니다. 실제로도 0솔이었으니...
+ F. Directing Rainfall
  역시 별로 논의되지 않았습니다. 어려워보입니다...
+ G. First of Her Name
  대회 끝나고는 왜 틀렸지 싶었는데 자기 전에 깨달아서 업솔빙했습니다.
  이름의 역순으로 Trie를 만든 다음, Aho-Corasick을 이용해서 매 노드에서의 state를 저장하여 DP를 한 다음, failure link를 따라 역추적해야 하는 문제입니다. 현재 노드에서 다음 문자가 주어졌을 때 이동하는 과정도 효율적으로 진행되어야 합니다 (이것 때문에 TLE를 받았었고, 때문에 팀노트 구현체를 약간 수정했습니다). failure link가 트리를 이룬다는 사실을 이용하여 위상정렬하듯이 DP를 구해야 하는데, failure link에는 포함되지만 terminal이 아닐 경우 DP값은 0으로 간주해야 합니다. 이 부분을 간과하여 대회 도중에는 WA를 받았었습니다.
+ I. Karel the Robot
  이런 류의 파싱 문제 좋아하는 SoulTch가 할만해보인다고 했으나 업솔빙 과정에서 그렇지 않음이 드러났습니다.
+ J. Miniature Golf
  문제는 잘 모르지만 나머지 둘이 대회 끝나고 서로 조금 더 이야기해본 결과 시간복잡도를 괜찮은 수준으로 내려놓았습니다. 이후 SUDAL이 업솔브.
+ K. Traffic Blights
  어떻게 이런 문제를 생각하고 풀 수 있을까요? 꼭 해결하고 싶은 문제입니다.

# 결론

앞으로 팀연습할 기회가 많지 않을텐데, 각자 연습을 많이 해야겠다는 다짐을 했습니다. 그리고 간만에 한 팀연습은 정말 재밌었습니다. 월파까지 다섯 달 정도 남았는데, 실력을 보다 열심히 갈고 닦도록 하겠습니다.

